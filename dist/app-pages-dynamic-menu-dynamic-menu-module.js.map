{"version":3,"sources":["webpack:///./node_modules/rxjs-compat/_esm5/add/operator/debounceTime.js","webpack:///./node_modules/rxjs-compat/_esm5/operator/debounceTime.js","webpack:///./src/app/pages/dynamic-menu/dynamic-menu.component.html","webpack:///./src/app/pages/dynamic-menu/dynamic-menu.component.ts","webpack:///./src/app/pages/dynamic-menu/dynamic-menu.module.ts","webpack:///./src/app/pages/dynamic-menu/dynamic-menu.service.ts"],"names":[],"mappings":"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","file":"app-pages-dynamic-menu-dynamic-menu-module.js","sourcesContent":["import { Observable } from 'rxjs';\nimport { debounceTime } from '../../operator/debounceTime';\nObservable.prototype.debounceTime = debounceTime;\n//# sourceMappingURL=debounceTime.js.map","import { asyncScheduler } from 'rxjs';\nimport { debounceTime as higherOrder } from 'rxjs/operators';\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * <img src=\"./img/debounceTime.png\" width=\"100%\">\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link IScheduler} for\n * managing timers.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounceTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {Scheduler} [scheduler=asyncScheduler] The {@link SchedulerLike} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return higherOrder(dueTime, scheduler)(this);\n}\n//# sourceMappingURL=debounceTime.js.map","module.exports = \"<div fxLayout=\\\"row wrap\\\" fxLayoutAlign=\\\"center\\\">\\r\\n    <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" fxFlex.sm=\\\"60\\\" class=\\\"flex-p\\\">\\r\\n        <mat-card class=\\\"list\\\">\\r\\n            <mat-card-content>\\r\\n                <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit(form.value)\\\">      \\r\\n                    <mat-form-field class=\\\"w-100\\\">\\r\\n                        <input matInput placeholder=\\\"Title\\\" formControlName=\\\"title\\\">\\r\\n                        <mat-error *ngIf=\\\"form.controls.title.errors?.required\\\">Menu title is required</mat-error>\\r\\n                        <mat-error *ngIf=\\\"form.controls.title.hasError('minlength')\\\">Menu title isn't long enough, minimum of 3 characters</mat-error>\\r\\n                    </mat-form-field> \\r\\n                    <mat-form-field class=\\\"w-100\\\">\\r\\n                        <mat-select placeholder=\\\"Icon\\\" formControlName=\\\"icon\\\">\\r\\n                            <mat-option *ngFor=\\\"let icon of icons\\\" [value]=\\\"icon\\\">\\r\\n                                <mat-icon>{{ icon }}</mat-icon>\\r\\n                            </mat-option>\\r\\n                        </mat-select>\\r\\n                    </mat-form-field>\\r\\n                    <mat-form-field class=\\\"w-100\\\" >\\r\\n                        <input matInput placeholder=\\\"RouterLink\\\" formControlName=\\\"routerLink\\\" matTooltip=\\\"e.g. /dashboard\\\" matTooltipPosition=\\\"after\\\">\\r\\n                        <mat-error *ngIf=\\\"form.controls.routerLink.errors?.required\\\">Routerlink or href is required</mat-error>\\r\\n                    </mat-form-field>\\r\\n                    <mat-checkbox formControlName=\\\"hasSubMenu\\\">Has sub menu</mat-checkbox>\\r\\n                    <mat-form-field class=\\\"w-100\\\" >\\r\\n                        <input matInput placeholder=\\\"Href\\\" formControlName=\\\"href\\\" matTooltip=\\\"e.g. http://themeseason.com\\\" matTooltipPosition=\\\"after\\\">\\r\\n                        <mat-error *ngIf=\\\"form.controls.href.errors?.required\\\">Href or routerlink is required</mat-error>\\r\\n                    </mat-form-field>\\r\\n                    <mat-radio-group formControlName=\\\"target\\\">\\r\\n                        <mat-radio-button value=\\\"_blank\\\">_blank</mat-radio-button>\\r\\n                        <mat-radio-button value=\\\"_self\\\">_self</mat-radio-button>\\r\\n                    </mat-radio-group>\\r\\n                    <mat-form-field class=\\\"w-100\\\">\\r\\n                        <mat-select placeholder=\\\"Parent menu\\\" formControlName=\\\"parentId\\\">\\r\\n                            <mat-option value=\\\"0\\\">-- Select Parent Menu --</mat-option>\\r\\n                            <mat-option *ngFor=\\\"let menuItem of menuItems\\\" [value]=\\\"menuItem.id\\\">\\r\\n                                {{menuItem.title}}\\r\\n                            </mat-option>\\r\\n                        </mat-select>\\r\\n                    </mat-form-field>\\r\\n                    <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center\\\">\\r\\n                        <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!form.valid\\\" type=\\\"submit\\\">Add New Menu Item</button>\\r\\n                    </div>\\r\\n                </form>\\r\\n            </mat-card-content>\\r\\n        </mat-card>\\r\\n      </div> \\r\\n</div> \"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators} from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material';\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport { Menu } from '../../theme/components/menu/menu.model';\r\nimport { MenuService } from '../../theme/components/menu/menu.service';\r\nimport { DynamicMenuService } from './dynamic-menu.service';\r\nimport { AppSettings } from '../../app.settings';\r\nimport { Settings } from '../../app.settings.model';\r\nimport { VerticalMenuComponent } from '../../theme/components/menu/vertical-menu/vertical-menu.component';\r\nimport { listTransition } from '../../theme/utils/app-animation';\r\n\r\n@Component({\r\n  selector: 'app-dynamic-menu',\r\n  templateUrl: './dynamic-menu.component.html',\r\n  providers: [ DynamicMenuService, MenuService ],\r\n  animations: [ listTransition ],\r\n  host: {\r\n    '[@listTransition]': ''\r\n  }\r\n})\r\nexport class DynamicMenuComponent implements OnInit {\r\n  public settings: Settings;\r\n  public menuItems:Array<Menu>;\r\n  public icons = ['home','person', 'card_travel', 'delete', 'event', 'favorite', 'help' ]\r\n  public form:FormGroup;\r\n  constructor(public appSettings:AppSettings, \r\n              public formBuilder: FormBuilder, \r\n              public snackBar: MatSnackBar,\r\n              private menuService:MenuService,\r\n              private dynamicMenuService:DynamicMenuService) {\r\n    this.settings = this.appSettings.settings; \r\n    this.menuItems = this.menuService.getVerticalMenuItems();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      'title': ['', Validators.compose([Validators.required, Validators.minLength(3)])],\r\n      'icon': null,\r\n      'routerLink': ['', Validators.required],    \r\n      'href': ['', Validators.required],            \r\n      'target': null,\r\n      'hasSubMenu': false,\r\n      'parentId': 0\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.form.valueChanges.debounceTime(500).subscribe(menu => {  \r\n      if(menu.routerLink && menu.routerLink != ''){\r\n        this.form.controls['href'].setValue(null);\r\n        this.form.controls['href'].disable();\r\n        this.form.controls['href'].clearValidators();\r\n        this.form.controls['target'].setValue(null);\r\n        this.form.controls['target'].disable();\r\n      }\r\n      else{\r\n        this.form.controls['href'].enable();\r\n        this.form.controls['href'].setValidators([Validators.required]);\r\n        this.form.controls['target'].enable();\r\n      }\r\n      this.form.controls['href'].updateValueAndValidity();\r\n\r\n      if(menu.href && menu.href != ''){\r\n        this.form.controls['routerLink'].setValue(null);\r\n        this.form.controls['routerLink'].disable();\r\n        this.form.controls['routerLink'].clearValidators();\r\n        this.form.controls['hasSubMenu'].setValue(false);\r\n        this.form.controls['hasSubMenu'].disable();\r\n      }\r\n      else{\r\n        this.form.controls['routerLink'].enable();\r\n        this.form.controls['routerLink'].setValidators([Validators.required]);\r\n        this.form.controls['hasSubMenu'].enable();\r\n      }\r\n      this.form.controls['routerLink'].updateValueAndValidity();\r\n    })\r\n  }\r\n\r\n  onSubmit(menu:Menu):void {\r\n    if (this.form.valid) {\r\n      this.dynamicMenuService.addNewMenuItem(VerticalMenuComponent, this.menuItems, menu);\r\n      this.snackBar.open('New menu item added successfully!', null, {\r\n        duration: 2000,\r\n      });\r\n      this.form.reset({\r\n        hasSubMenu:false,\r\n        parentId:0\r\n      });     \r\n    }\r\n  } \r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { DynamicMenuComponent } from './dynamic-menu.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: DynamicMenuComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule, \r\n    ReactiveFormsModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    DynamicMenuComponent\r\n  ]\r\n})\r\nexport class DynamicMenuModule { }","import { Injectable, Injector, ComponentFactoryResolver, ApplicationRef, EmbeddedViewRef } from '@angular/core';\r\nimport { VerticalMenuComponent } from '../../theme/components/menu/vertical-menu/vertical-menu.component';\r\nimport { Menu } from '../../theme/components/menu/menu.model';\r\n\r\n@Injectable()\r\nexport class DynamicMenuService {\r\n\r\n    constructor(private componentFactoryResolver: ComponentFactoryResolver,\r\n                private applicationRef: ApplicationRef,\r\n                private injector: Injector) { }     \r\n    \r\n    addNewMenuItem(component: any, menuItems:Array<Menu>, menuItem) {\r\n\r\n        const lastId = menuItems[menuItems.length-1].id;\r\n        const newMenuItem = new Menu(lastId+1, menuItem['title'], menuItem['routerLink'], menuItem['href'], menuItem['icon'], menuItem['target'], menuItem['hasSubMenu'], parseInt(menuItem['parentId']));\r\n                \r\n        menuItems.push(newMenuItem);\r\n        let item = menuItems.filter(item=>item.id == newMenuItem.parentId)[0];\r\n        if(item) item.hasSubMenu = true;  \r\n\r\n        const componentRef = this.componentFactoryResolver\r\n            .resolveComponentFactory(component)\r\n            .create(this.injector);        \r\n        \r\n        this.applicationRef.attachView(componentRef.hostView);\r\n        \r\n        let instance = <VerticalMenuComponent>componentRef.instance;\r\n        instance.menuItems = menuItems;\r\n        instance.menuParentId = 0;\r\n\r\n        const elem = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n        \r\n        const sidenav = document.getElementById('sidenav-menu-outer');        \r\n        sidenav.replaceChild(elem, sidenav.children[0]);     \r\n        \r\n    } \r\n}"],"sourceRoot":""}