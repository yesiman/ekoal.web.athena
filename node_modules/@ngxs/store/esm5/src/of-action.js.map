{
  "version": 3,
  "file": "of-action.js",
  "sources": [
    "ng://@ngxs/store/packages/store/src/of-action.ts"
  ],
  "sourcesContent": [
    "import { OperatorFunction, Observable } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\nimport { getActionTypeFromInstance } from './utils';\nimport { ActionContext, ActionStatus } from './actions-stream';\n\nexport function ofAction<T>(allowedType): OperatorFunction<any, T>;\nexport function ofAction<T>(...allowedTypes): OperatorFunction<any, T>;\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will grab actions that have just been dispatched as well as actions that have completed\n */\nexport function ofAction(...allowedTypes: any[]) {\n  return ofActionOperator(allowedTypes);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been dispatched\n */\nexport function ofActionDispatched(...allowedTypes: any[]) {\n  return ofActionOperator(allowedTypes, ActionStatus.Dispatched);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been successfully completed\n */\nexport function ofActionSuccessful(...allowedTypes: any[]) {\n  return ofActionOperator(allowedTypes, ActionStatus.Successful);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just been canceled\n */\nexport function ofActionCanceled(...allowedTypes: any[]) {\n  return ofActionOperator(allowedTypes, ActionStatus.Canceled);\n}\n\n/**\n * RxJS operator for selecting out specific actions.\n *\n * This will ONLY grab actions that have just thrown an error\n */\nexport function ofActionErrored(...allowedTypes: any[]) {\n  return ofActionOperator(allowedTypes, ActionStatus.Errored);\n}\n\nfunction ofActionOperator(allowedTypes: any[], status?: ActionStatus) {\n  const allowedMap = createAllowedMap(allowedTypes);\n  return function(o: Observable<any>) {\n    return o.pipe(filterStatus(allowedMap, status), mapAction());\n  };\n}\n\nfunction filterStatus(allowedTypes: { [key: string]: boolean }, status?: ActionStatus) {\n  return filter((ctx: ActionContext) => {\n    const actionType = getActionTypeFromInstance(ctx.action);\n    const type = allowedTypes[actionType];\n    return status ? type && ctx.status === status : type;\n  });\n}\n\nfunction mapAction() {\n  return map((ctx: ActionContext) => ctx.action);\n}\n\nfunction createAllowedMap(types: any[]): { [key: string]: boolean } {\n  return types.reduce((acc: any, klass: any) => {\n    acc[getActionTypeFromInstance(klass)] = true;\n    return acc;\n  }, {});\n}\n"
  ],
  "names": [],
  "mappings": "AACA,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAE,yBAAyB,EAAE,MAAM,SAAS,CAAC;;;;;;AAWpD,MAAM,mBAAmB,GAAG,YAAmB;IAC7C,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;CACvC;;;;;;AAOD,MAAM,6BAA6B,GAAG,YAAmB;IACvD,MAAM,CAAC,gBAAgB,CAAC,YAAY,gCAA0B,CAAC;CAChE;;;;;;AAOD,MAAM,6BAA6B,GAAG,YAAmB;IACvD,MAAM,CAAC,gBAAgB,CAAC,YAAY,gCAA0B,CAAC;CAChE;;;;;;AAOD,MAAM,2BAA2B,GAAG,YAAmB;IACrD,MAAM,CAAC,gBAAgB,CAAC,YAAY,4BAAwB,CAAC;CAC9D;;;;;;AAOD,MAAM,0BAA0B,GAAG,YAAmB;IACpD,MAAM,CAAC,gBAAgB,CAAC,YAAY,0BAAuB,CAAC;CAC7D;AAED,0BAA0B,YAAmB,EAAE,MAAqB;IAClE,MAAM,UAAU,GAAG,gBAAgB,CAAC,YAAY,CAAC,CAAC;IAClD,MAAM,CAAC,UAAS,CAAkB;QAChC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC;KAC9D,CAAC;CACH;AAED,sBAAsB,YAAwC,EAAE,MAAqB;IACnF,MAAM,CAAC,MAAM,CAAC,CAAC,GAAkB,EAAE,EAAE;QACnC,MAAM,UAAU,GAAG,yBAAyB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzD,MAAM,IAAI,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC;QACtC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;KACtD,CAAC,CAAC;CACJ;AAED;IACE,MAAM,CAAC,GAAG,CAAC,CAAC,GAAkB,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;CAChD;AAED,0BAA0B,KAAY;IACpC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAQ,EAAE,KAAU,EAAE,EAAE;QAC3C,GAAG,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;QAC7C,MAAM,CAAC,GAAG,CAAC;KACZ,EAAE,EAAE,CAAC,CAAC;CACR"
}
